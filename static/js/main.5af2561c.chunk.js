(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],{27:function(e,t,o){e.exports=o(61)},32:function(e,t,o){},35:function(e,t,o){},58:function(e,t,o){},59:function(e,t,o){},60:function(e,t,o){},61:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(6),r=o.n(c),d=(o(32),o(3)),u=o(22),l=o(12),i=o(1),s={loading:!1,todos:[],error:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODOS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"FETCH_TODOS":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,todos:t.todos});case"FETCH_TODOS_FAILURE":return{loading:!1,todos:[],error:t.error};case"FETCH_TODO":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,todo:t.todo});case"ADD_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(l.a)(e.todos),[t.newTodo])});case"HANDLE_CHANGE":return Object(i.a)(Object(i.a)({},e),{},{todos:Object(l.a)(e.todos.map((function(e){return e.id===t.id?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e})))});case"DELETE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});default:return e}},f=o(23),T=Object(d.createStore)(m,Object(f.composeWithDevTools)(Object(d.applyMiddleware)(u.a))),O=(o(35),o(8)),p=o(5),E=o.n(p);function h(e){return{type:"FETCH_TODOS_REQUEST",loading:e}}function b(e){return{type:"DELETE_TODO",id:e}}var D=o(26),g=(o(58),function(e){var t=e.onAddTodo,o=Object(n.useState)(""),c=Object(D.a)(o,2),r=c[0],d=c[1];return a.a.createElement("form",{className:"addTodoForm",onSubmit:function(e){e.preventDefault(),t(r),d("")}},a.a.createElement("input",{type:"text",value:r,onChange:function(e){return d(e.target.value)},className:"addTodoInput"}),a.a.createElement("input",{className:"addTodoSubmit",type:"submit",value:"+"}))}),j=(o(59),o(25));o(60);var v=function(e){var t=e.item,o=(e.deleteTodo,e.handleChange),n=e.onTodoDelete;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:t.completed?"todoItem completed":"todoItem"},a.a.createElement("input",{className:"todoItemCheckbox",type:"checkbox",checked:t.completed,onChange:function(){return o(t.id)}}),a.a.createElement("p",{className:t.completed?"todoItemText completed":"todoItemText",onClick:function(){return o(t.id)}},t.text),a.a.createElement("span",{className:"todoItemDelete"},a.a.createElement(j.a,{onClick:function(){return n(t.id)}}))))};var C=function(e){var t=e.todos,o=e.deleteTodo,n=e.handleChange,c=e.onTodoDelete;return a.a.createElement("div",{className:"todoItemList"},t.map((function(e){return a.a.createElement(v,{key:e.id,item:e,title:e.text,completed:e.completed,deleteTodo:o,onTodoDelete:c,handleChange:n})})))};var _=Object(O.b)((function(e){return{todos:e.todos}}),(function(e){return{fetchingTodos:function(){return e((function(e){e(h),E.a.get("http://localhost:5000/todos/").then((function(t){var o=t.data;e(function(e){return{type:"FETCH_TODOS",todos:e}}(o))})).catch((function(t){var o=t.message;e(function(e){return{type:"FETCH_TODOS_FAILURE",error:e}}(o))}))}))},onAddTodo:function(t){return e(function(e){return function(t){E.a.post("http://localhost:5000/todos/",{id:"",text:e,completed:!1,category:"My todos"}).then((function(e){var o=e.data;t(function(e){return{type:"ADD_TODO",newTodo:e}}(o))}))}}(t))},deleteTodo:function(t){return e(b(t))},handleChange:function(t){return e(function(e){return{type:"HANDLE_CHANGE",id:e}}(t))},onTodoDelete:function(t){return e(function(e){return function(t){E.a.delete("http://localhost:5000/todos/".concat(e)),t(b(e))}}(t))}}}))((function(e){var t=e.fetchingTodos;return Object(n.useEffect)((function(){t()}),[]),a.a.createElement("div",{className:"App"},a.a.createElement(g,{todos:e.todos,onAddTodo:e.onAddTodo}),a.a.createElement("br",null),a.a.createElement(C,{todos:e.todos,addTodo:e.addTodo,deleteTodo:e.deleteTodo,handleChange:e.handleChange,onTodoDelete:e.onTodoDelete}))}));r.a.render(a.a.createElement(O.a,{store:T},a.a.createElement(_,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.5af2561c.chunk.js.map